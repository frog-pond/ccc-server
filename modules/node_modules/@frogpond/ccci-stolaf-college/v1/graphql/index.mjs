import graphql from 'graphql-tools'
import * as menus from '../menu/graphql'
import * as majors from '../majors/graphql'
import * as departments from '../departments/graphql'
import * as dictionary from '../dictionary/graphql'
const {makeExecutableSchema} = graphql

const typeDef = `
	type Query {
		institution: String
	}

	#type Mutation {}

	schema {
		query: Query
		#mutation: Mutation
	}
`

const resolvers = {
	institution: () => process.env.INSTITUTION,
}

// Put together a schema
const schema = makeExecutableSchema({
	typeDefs: [
		typeDef,
		...menus.typeDefs,
		...majors.typeDefs,
		...departments.typeDefs,
		...dictionary.typeDefs,
	],
	resolvers: {
		Query: Object.assign(
			{},
			resolvers,
			menus.resolvers,
			majors.resolves,
			departments.resolvers,
			dictionary.resolvers,
		)
	},
})

export {schema}
